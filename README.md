BEGIN
    UPDATE T_DRI_MIS_MONTHLY
    SET CAPACITY =
        CASE 
            WHEN CAPACITY = 500 
            THEN CAPACITY * TO_NUMBER(TO_CHAR(LAST_DAY(TIMESTAMP),'DD'))
            ELSE CAPACITY
        END
    WHERE PLANT IN ('TSM_KILN1','TSM_KILN2','TSM_KILN3','TSM_KILN4',
                    'TSM_KILN5','TSM_KILN6','TSM_KILN7','TSM_KILN8',
                    'TSM_KILN9','TSM_KILN10');

    COMMIT;
EXCEPTION
WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE(SQLERRM);
END;
/